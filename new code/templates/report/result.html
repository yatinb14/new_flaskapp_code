
  
{% extends "layout.html" %}
{% block content%}
<head>
  {%include 'side.html'%}
   <style>

#footer {
  padding: 3px;
  background-color: #A9A9A9;
  position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   color: white;
   text-align: center;
  

}  

#footer1{

  position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   background-color: red;
   color: white;
   text-align: center;
}      
#but {

  color: white;
  padding: 4px 7px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  margin: 0 auto;
  background-color: #16a085;
  float :right;
  border-radius: 5px;
  font-weight: bold;
  cursor: pointer;
  
}



#ab{

  color: white;
  padding: 4px 7px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  margin: 0 auto;
  float: left;
  border-radius: 5px;
  font-weight:bold;

}

#ab {
  background-color: #16a085;

}


table {
 
  background-color: #f1f1c1;
  font-family: arial, sans-serif;
  border-collapse: collapse;
  table-layout: auto;
  width: 100%;
  margin-left: 260px;


}


td {
  border: 1px solid #dddddd;
  text-align: center;
  padding: 1px;
}
th{
  border: 1px solid #dddddd;
  text-align: center;
  padding: 10px;
  background-color: #2c3e50;
  color: white;
}


tr:nth-child(even) {
  background-color: pale-red;
}
tr{
  text-align: center;
}
#tab{
  max-width: 180px;
  
  
}
h1{
	margin-left: 260px;
}
</style>
</head>

  
  <h1 style="text-align:-webkit-center">User Details</h1>
  


  




   <table border = 1>
    <thead>
    <tr>
   <th>ID</th>
              <th>Name</th>
              <th>Address</th>
              <th>GST</th>
              <th>PAN</th>
              <th>Training</th>
              <th>Number</th>
              <th>Date</th>
              <th>item</th>
              <th>description</th>
              <th>total</th>
              <th>inwords</th>
            
    </tr>
  </thead>
  <tbody>
  {% for result in userDetails %}
  <tr>
   <td>{{ result[0] }}</td>
              <td>{{ result[1] }}</td>
              <td>{{ result[2] }}</td>
              <td>{{ result[3] }}</td>
              <td>{{ result[4] }}</td>
              <td>{{ result[5] }}</td>
              <td>{{ result[6] }}</td>
              <td>{{ result[7] }}</td>
              <td>{{ result[8] }}</td>
              <td>{{ result[9] }}</td>
              <td>{{ result[11] }}</td>
              <td>{{ result[12] }}</td>
              

                



    
              
  </tr>
  {% endfor %}
  

    <td colspan="3"><a  id ="ab" href="/report" > <-Back</a></td>
    <td colspan="7"></td>
    <td colspan="2"><button id="but" onclick="exportTableToCSV('report.csv')">Download CSV </button></td>
</tbody>
</table>
<br>
<br>
<br>
<br>


 

<script type="text/javascript">
  function downloadCSV(csv, filename) {
    var csvFile;
    var downloadLink;

    // CSV file
    csvFile = new Blob([csv], {type: "text/csv"});

    // Download link
    downloadLink = document.createElement("a");

    // File name
    downloadLink.download = filename;

    // Create a link to the file
    downloadLink.href = window.URL.createObjectURL(csvFile);

    // Hide download link
    downloadLink.style.display = "none";

    // Add the link to DOM
    document.body.appendChild(downloadLink);

    // Click download link
    downloadLink.click();
}


function exportTableToCSV(filename) {
    var csv = [];
    var rows = document.querySelectorAll("table tr");
    
    for (var i = 0; i < rows.length; i++) {
        var row = [], cols = rows[i].querySelectorAll("td, th");
        
        for (var j = 0; j < cols.length; j++) 
            row.push(cols[j].innerText);
        
        csv.push(row.join(","));        
    }

    // Download CSV file
    downloadCSV(csv.join("\n"), filename);
}
</script>

 

<footer id ='footer'>
        <p style="color:#000000;">Thinknyx Technologies LLP<br>
          </footer>
{%endblock%}
       
  

